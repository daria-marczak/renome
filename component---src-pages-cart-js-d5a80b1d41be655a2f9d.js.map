{"version":3,"sources":["webpack:///./src/components/cart/CartTable.js","webpack:///./src/components/cart/TotalSection.js","webpack:///./src/components/cart/Coupon.js","webpack:///./src/components/cart/CartSection.js","webpack:///./src/pages/cart.js","webpack:///./src/templates/HomeTemplate.js","webpack:///./src/components/common/Loader.js","webpack:///./src/utils/formatPrice.js","webpack:///./src/components/cart/logic/cartActions.js"],"names":["StyledWrapper","styled","article","withConfig","displayName","componentId","StyledTable","table","_ref","theme","font","family","montserrat","StyledTableRow","tr","_ref2","lightGray","StyledTableCell","td","_ref3","clickable","StyledHeadTableCell","CartTable","_ref4","products","cartItems","removeItem","react_default","a","createElement","map","product","key","node","frontmatter","id","title","number","find","cartItem","productId","quantity","formatPrice","format","price","onClick","propTypes","PropTypes","arrayOf","shape","func","div","right","TotalSection","subTotal","shipping","reduce","accumulator","currentValue","calculatePrice","shippingPrice","parseInt","TotalSection_StyledWrapper","TotalSection_StyledTableRow","TotalSection_StyledTableCell","StyledInput","input","Coupon","onSubmit","isFetching","_useState","useState","couponCode","setCouponCode","handleSubmit","event","preventDefault","type","placeholder","value","onChange","target","name","aria-label","common","disabled","Loader","bool","StyledButton","Link","isSuccess","primary","white","size","paragraph","CartSection","onRemove","_this","props","applyCoupon","render","_ref5","_this2","this","filteredCartItems","allProducts","filter","mdProduct","concat","apply","CartSection_StyledWrapper","cart_CartTable","cart_Coupon","cart_TotalSection","to","Component","connect","state","cart","fetching","fetchingCoupon","dispatch","bindActionCreators","cartActions","__webpack_require__","d","__webpack_exports__","query","Cart","data","HomeTemplate","seo","keywords","Header","photo","menuHeader","section","cart_CartSection","allMarkdownRemark","edges","Footer","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","styled_components__WEBPACK_IMPORTED_MODULE_4__","_components_seo__WEBPACK_IMPORTED_MODULE_5__","_components_common_Snackbar__WEBPACK_IMPORTED_MODULE_6__","_assets_styles_GlobalStyles__WEBPACK_IMPORTED_MODULE_7__","_assets_styles_theme__WEBPACK_IMPORTED_MODULE_8__","_appLogic_appActions__WEBPACK_IMPORTED_MODULE_9__","children","message","kind","closeMessage","isSnackBarActive","Fragment","isActive","oneOfType","string","appData","content","appActions","StyledLoader","role","aria-live","Intl","NumberFormat","style","currency","minimumFractionDigits","addToCart","_cartConstants__WEBPACK_IMPORTED_MODULE_0__","INVOKE","itemId"],"mappings":"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","file":"component---src-pages-cart-js-d5a80b1d41be655a2f9d.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTable = styled.table`\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTableRow = styled.tr`\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StyledTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst StyledHeadTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst CartTable = ({ products, cartItems, removeItem }) => {\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTable>\r\n        <thead>\r\n          <StyledTableRow>\r\n            <StyledHeadTableCell>Product</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Qty</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Price</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Total</StyledHeadTableCell>\r\n            <StyledHeadTableCell>&nbsp;</StyledHeadTableCell>\r\n          </StyledTableRow>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <StyledTableRow key={product.node.frontmatter.id}>\r\n              <StyledTableCell>\r\n                {product.node.frontmatter.title}\r\n              </StyledTableCell>\r\n              <StyledTableCell number>\r\n                {\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity\r\n                }\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(product.node.frontmatter.price)}\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity * product.node.frontmatter.price\r\n                )}\r\n              </StyledTableCell>\r\n              <StyledTableCell\r\n                onClick={() => removeItem(product.node.frontmatter.id)}\r\n                clickable\r\n              >\r\n                &#11199;\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </tbody>\r\n      </StyledTable>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nCartTable.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n  removeItem: PropTypes.func,\r\n};\r\n\r\nexport default CartTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 50%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nconst StyledTableRow = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StyledTableCell = styled.div`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  margin-left: ${({ right }) => (right ? 'auto' : '0')};\r\n`;\r\n\r\nconst calculatePrice = (products, cartItems, shipping) => {\r\n  let price = products.reduce((accumulator, currentValue) => {\r\n    const quantity = cartItems.find(\r\n      cartItem => cartItem.productId === currentValue.node.frontmatter.id\r\n    ).quantity;\r\n    return (accumulator += currentValue.node.frontmatter.price * quantity);\r\n  }, 0);\r\n\r\n  return shipping !== 'FREE' ? price : (price += shipping);\r\n};\r\n\r\nconst verifyIfShippingCanBeFree = price => (price > 30 ? 0 : 10);\r\n\r\nconst TotalSection = ({ products, cartItems }) => {\r\n  const subTotal = calculatePrice(products, cartItems);\r\n  const shippingPrice = verifyIfShippingCanBeFree(parseInt(subTotal));\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Subtotal</StyledTableCell>\r\n        <StyledTableCell right>{formatPrice.format(subTotal)}</StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Shipping</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Total</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(subTotal + shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nTotalSection.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n};\r\n\r\nexport default TotalSection;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { StyledButton } from '../common/common';\r\nimport Loader from '../common/Loader';\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  padding: 15px 10px;\r\n  border-bottom: 3px solid ${({ theme }) => theme.lightGray};\r\n  width: 100%;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nconst Coupon = ({ onSubmit, isFetching }) => {\r\n  const [couponCode, setCouponCode] = useState('');\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmit(couponCode);\r\n\r\n    setCouponCode('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={event => handleSubmit(event)}>\r\n      <StyledInput\r\n        type=\"text\"\r\n        placeholder=\"Coupon code\"\r\n        value={couponCode}\r\n        onChange={event => setCouponCode(event.target.value)}\r\n        name=\"coupon\"\r\n        aria-label=\"If you have a coupon code you'd like to use, type it here\"\r\n      />\r\n      <StyledButton type=\"submit\" disabled={isFetching}>\r\n        {isFetching && <Loader />}\r\n        {!isFetching && 'Apply coupon'}\r\n      </StyledButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nCoupon.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nexport default Coupon;\r\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport styled from 'styled-components';\nimport { Link } from 'gatsby';\nimport * as cartActions from './logic/cartActions';\nimport CartTable from './CartTable';\nimport TotalSection from './TotalSection';\nimport Coupon from './Coupon';\n\nconst StyledWrapper = styled.div`\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  margin-bottom: 40px;\n  flex-direction: column;\n`;\n\nconst StyledButton = styled(Link)`\n  background-color: ${({ isSuccess, theme }) =>\n    isSuccess ? theme.primary : '#1e2633'};\n  text-transform: uppercase;\n  color: ${({ theme }) => theme.white};\n  font-size: ${({ theme }) => theme.font.size.paragraph};\n  transition: background 0.3s ease-in;\n  padding: 20px 20px;\n  border: none;\n  width: 100%;\n  cursor: pointer;\n  margin: 15px 0 20px 0;\n  font-family: ${({ theme }) => theme.font.family.montserrat};\n  font-weight: 600;\n  text-decoration: none;\n  text-align: center;\n\n  @media (min-width: 1200px) {\n    width: auto;\n    align-self: flex-end;\n  }\n`;\n\nclass CartSection extends Component {\n  onRemove = productId => {\n    this.props.removeItem(productId);\n  };\n\n  onSubmit = couponCode => {\n    this.props.applyCoupon(couponCode);\n  };\n\n  render() {\n    const filteredCartItems = this.props.products.map(product =>\n      this.props.allProducts.filter(\n        mdProduct => mdProduct.node.frontmatter.id === product.productId\n      )\n    );\n    const cartItems = [].concat(...filteredCartItems);\n\n    return (\n      <StyledWrapper>\n        <CartTable\n          products={cartItems}\n          cartItems={this.props.products}\n          removeItem={this.onRemove}\n        />\n        <Coupon onSubmit={this.onSubmit} isFetching={this.props.isFetching} />\n        <TotalSection products={cartItems} cartItems={this.props.products} />\n        <StyledButton to=\"/checkout\">Proceed to checkout</StyledButton>\n      </StyledWrapper>\n    );\n  }\n}\n\nCartSection.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.shape()),\n  allProducts: PropTypes.arrayOf(PropTypes.shape()),\n  removeItem: PropTypes.func,\n  applyCoupon: PropTypes.func,\n  isFetching: PropTypes.bool,\n};\n\nconst mapStateToProps = state => ({\n  products: state.cart.cartItems,\n  isFetching: state.cart.fetching.fetchingCoupon,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      applyCoupon: cartActions.applyCoupon,\n      removeItem: cartActions.removeItem,\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CartSection);\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport PropTypes from 'prop-types';\r\nimport HomeTemplate from '../templates/HomeTemplate';\r\nimport SEO from '../components/seo';\r\nimport Header from '../components/common/Header';\r\nimport CartSection from '../components/cart/CartSection';\r\nimport Footer from '../components/common/Footer';\r\n\r\nconst Cart = ({ data }) => (\r\n  <HomeTemplate>\r\n    <SEO title=\"Cart\" keywords={[`renome`, `restaurant`]} />\r\n    <Header photo={data.menuHeader} section=\"your\" title=\"shopping cart\" />\r\n    <CartSection allProducts={data.allMarkdownRemark.edges} />\r\n    <Footer />\r\n  </HomeTemplate>\r\n);\r\n\r\nexport const query = graphql`\r\n  query {\r\n    menuHeader: file(relativePath: { eq: \"images/headers/shop.png\" }) {\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000, quality: 100) {\r\n          ...GatsbyImageSharpFluid_noBase64\r\n        }\r\n      }\r\n    }\r\n\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n            category\r\n            type\r\n            id\r\n            price\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nCart.propTypes = {\r\n  data: PropTypes.shape().isRequired,\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport SEO from '../components/seo';\r\nimport Snackbar from '../components/common/Snackbar';\r\nimport GlobalStyles from '../assets/styles/GlobalStyles';\r\nimport { theme } from '../assets/styles/theme';\r\nimport * as appActions from '../appLogic/appActions';\r\n\r\nconst HomeTemplate = ({\r\n  children,\r\n  message,\r\n  kind,\r\n  closeMessage,\r\n  isSnackBarActive,\r\n}) => (\r\n  <ThemeProvider theme={theme}>\r\n    <>\r\n      <SEO title=\"Home\" keywords={[`renome`, `restaurant`, `food`]} />\r\n      <GlobalStyles />\r\n      <main>{children}</main>\r\n      {isSnackBarActive && (\r\n        <Snackbar\r\n          message={message}\r\n          isActive={isSnackBarActive}\r\n          type={kind}\r\n          closeMessage={closeMessage}\r\n        />\r\n      )}\r\n    </>\r\n  </ThemeProvider>\r\n);\r\n\r\nHomeTemplate.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]).isRequired,\r\n  message: PropTypes.string,\r\n  kind: PropTypes.string,\r\n  closeMessage: PropTypes.func,\r\n  isSnackBarActive: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  kind: state.appData.message.kind,\r\n  isSnackBarActive: state.appData.isSnackBarActive,\r\n  message: state.appData.message.content,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      closeMessage: appActions.closeMessage,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomeTemplate);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledLoader = styled.div`\r\n  position: absolute;\r\n  height: 50px;\r\n  width: inherit;\r\n\r\n  &:before {\r\n    animation: rotate 0.9s linear infinite both;\r\n    border: 3px solid ${({ theme }) => theme.white};\r\n    border-bottom-color: ${({ theme }) => theme.primary};\r\n    border-radius: 100%;\r\n    content: '';\r\n    height: 20px;\r\n    top: -20%;\r\n    width: 20px;\r\n    left: 43%;\r\n    position: absolute;\r\n    will-change: transform;\r\n    transform-origin: center;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <StyledLoader\r\n    role=\"alert\"\r\n    aria-live=\"assertive\"\r\n    aria-label=\"Content is loading\"\r\n  />\r\n);\r\n\r\nexport default Loader;\r\n","const formatPrice = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n  minimumFractionDigits: 2,\r\n});\r\n\r\nexport default formatPrice;\r\n","import * as cartActions from './cartConstants';\r\n\r\nexport const applyCoupon = couponCode => ({\r\n  type: cartActions.APPLY_COUPON.INVOKE,\r\n  couponCode,\r\n});\r\n\r\nexport const removeItem = productId => ({\r\n  type: cartActions.REMOVE_ITEM.INVOKE,\r\n  productId,\r\n});\r\n\r\nexport const addToCart = ({ quantity, itemId }) => ({\r\n  type: cartActions.ADD_TO_CART.INVOKE,\r\n  quantity,\r\n  itemId,\r\n});\r\n"],"sourceRoot":""}