{"version":3,"sources":["webpack:///./src/components/cart/CartTable.js","webpack:///./src/components/cart/TotalSection.js","webpack:///./src/components/cart/Coupon.js","webpack:///./src/components/cart/CartSection.js","webpack:///./src/pages/cart.js","webpack:///./src/templates/HomeTemplate.js","webpack:///./src/components/common/Loader.js","webpack:///./src/utils/formatPrice.js","webpack:///./src/components/cart/logic/cartActions.js"],"names":["StyledWrapper","styled","article","withConfig","displayName","componentId","StyledTable","table","_ref","theme","font","family","montserrat","StyledTableRow","tr","_ref2","lightGray","StyledTableCell","td","_ref3","clickable","StyledHeadTableCell","StyledCross","div","_ref4","black","CartTable","_ref5","products","cartItems","removeItem","isFetching","react_default","a","createElement","map","product","key","node","frontmatter","id","title","number","find","cartItem","productId","quantity","formatPrice","format","price","onClick","Loader","propTypes","PropTypes","arrayOf","shape","func","bool","right","TotalSection","subTotal","shipping","reduce","accumulator","currentValue","calculatePrice","shippingPrice","parseInt","TotalSection_StyledWrapper","TotalSection_StyledTableRow","TotalSection_StyledTableCell","StyledForm","form","StyledInput","input","Coupon","onSubmit","_useState","useState","couponCode","setCouponCode","handleSubmit","event","preventDefault","type","placeholder","value","onChange","target","name","aria-label","common","disabled","StyledButton","Link","isSuccess","primary","white","size","paragraph","CartSection","onRemove","_this","props","applyCoupon","render","_this2","this","filteredCartItems","allProducts","filter","mdProduct","concat","apply","length","CartSection_StyledWrapper","cart_CartTable","isFetchingCart","cart_Coupon","cart_TotalSection","to","Component","connect","state","cart","fetching","fetchingCoupon","fetchingCart","dispatch","bindActionCreators","cartActions","__webpack_require__","d","__webpack_exports__","query","Cart","data","HomeTemplate","seo","keywords","Header","photo","menuHeader","section","cart_CartSection","allMarkdownRemark","edges","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","styled_components__WEBPACK_IMPORTED_MODULE_4__","_components_seo__WEBPACK_IMPORTED_MODULE_5__","_components_common_Snackbar__WEBPACK_IMPORTED_MODULE_6__","_components_common_Footer__WEBPACK_IMPORTED_MODULE_7__","_assets_styles_GlobalStyles__WEBPACK_IMPORTED_MODULE_8__","_assets_styles_theme__WEBPACK_IMPORTED_MODULE_9__","_appLogic_appActions__WEBPACK_IMPORTED_MODULE_10__","children","message","kind","closeMessage","isSnackBarActive","Fragment","isActive","oneOfType","string","appData","content","appActions","StyledLoader","role","aria-live","Intl","NumberFormat","style","currency","minimumFractionDigits","addToCart","_cartConstants__WEBPACK_IMPORTED_MODULE_0__","INVOKE","itemId"],"mappings":"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","file":"component---src-pages-cart-js-876358fb56850589e6b0.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\nimport Loader from '../common/Loader';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTable = styled.table`\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTableRow = styled.tr`\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n  min-height: 40px;\r\n`;\r\n\r\nconst StyledTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst StyledHeadTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst StyledCross = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-left: auto;\r\n\r\n  &:before,\r\n  &:after {\r\n    position: absolute;\r\n    content: '';\r\n    width: 2px;\r\n    height: 25px;\r\n    background-color: ${({ theme }) => theme.black};\r\n  }\r\n\r\n  &:before {\r\n    transform: rotate(45deg);\r\n  }\r\n\r\n  &:after {\r\n    transform: rotate(-45deg);\r\n  }\r\n`;\r\n\r\nconst CartTable = ({ products, cartItems, removeItem, isFetching }) => {\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTable>\r\n        <thead>\r\n          <StyledTableRow>\r\n            <StyledHeadTableCell>Product</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Qty</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Price</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Total</StyledHeadTableCell>\r\n            <StyledHeadTableCell>&nbsp;</StyledHeadTableCell>\r\n          </StyledTableRow>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <StyledTableRow key={product.node.frontmatter.id}>\r\n              <StyledTableCell>\r\n                {product.node.frontmatter.title}\r\n              </StyledTableCell>\r\n              <StyledTableCell number>\r\n                {\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity\r\n                }\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(product.node.frontmatter.price)}\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity * product.node.frontmatter.price\r\n                )}\r\n              </StyledTableCell>\r\n              <StyledTableCell\r\n                onClick={() => removeItem(product.node.frontmatter.id)}\r\n                clickable\r\n              >\r\n                {isFetching ? <Loader /> : <StyledCross />}\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </tbody>\r\n      </StyledTable>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nCartTable.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n  removeItem: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nexport default CartTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 50%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nconst StyledTableRow = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StyledTableCell = styled.div`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  margin-left: ${({ right }) => (right ? 'auto' : '0')};\r\n`;\r\n\r\nconst calculatePrice = (products, cartItems, shipping) => {\r\n  let price = products.reduce((accumulator, currentValue) => {\r\n    const quantity = cartItems.find(\r\n      cartItem => cartItem.productId === currentValue.node.frontmatter.id\r\n    ).quantity;\r\n    return (accumulator += currentValue.node.frontmatter.price * quantity);\r\n  }, 0);\r\n\r\n  return shipping !== 'FREE' ? price : (price += shipping);\r\n};\r\n\r\nconst verifyIfShippingCanBeFree = price => (price > 30 ? 0 : 10);\r\n\r\nconst TotalSection = ({ products, cartItems }) => {\r\n  const subTotal = calculatePrice(products, cartItems);\r\n  const shippingPrice = verifyIfShippingCanBeFree(parseInt(subTotal));\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Subtotal</StyledTableCell>\r\n        <StyledTableCell right>{formatPrice.format(subTotal)}</StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Shipping</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Total</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(subTotal + shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nTotalSection.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n};\r\n\r\nexport default TotalSection;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { StyledButton } from '../common/common';\r\nimport Loader from '../common/Loader';\r\n\r\nconst StyledForm = styled.form`\r\n  @media (min-width: 1200px) {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  padding: 15px 10px;\r\n  border-bottom: 3px solid ${({ theme }) => theme.lightGray};\r\n  width: 100%;\r\n  height: 50%;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 35%;\r\n    margin-right: auto;\r\n  }\r\n`;\r\n\r\nconst Coupon = ({ onSubmit, isFetching }) => {\r\n  const [couponCode, setCouponCode] = useState('');\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmit(couponCode);\r\n\r\n    setCouponCode('');\r\n  };\r\n\r\n  return (\r\n    <StyledForm onSubmit={event => handleSubmit(event)}>\r\n      <StyledInput\r\n        type=\"text\"\r\n        placeholder=\"Coupon code\"\r\n        value={couponCode}\r\n        onChange={event => setCouponCode(event.target.value)}\r\n        name=\"coupon\"\r\n        aria-label=\"If you have a coupon code you'd like to use, type it here\"\r\n      />\r\n      <StyledButton type=\"submit\" disabled={isFetching}>\r\n        {isFetching && <Loader />}\r\n        {!isFetching && 'Apply coupon'}\r\n      </StyledButton>\r\n    </StyledForm>\r\n  );\r\n};\r\n\r\nCoupon.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nexport default Coupon;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'gatsby';\r\nimport * as cartActions from './logic/cartActions';\r\nimport CartTable from './CartTable';\r\nimport TotalSection from './TotalSection';\r\nimport Coupon from './Coupon';\r\n\r\nconst StyledWrapper = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  margin-bottom: 40px;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledButton = styled(Link)`\r\n  background-color: ${({ isSuccess, theme }) =>\r\n    isSuccess ? theme.primary : '#1e2633'};\r\n  text-transform: uppercase;\r\n  color: ${({ theme }) => theme.white};\r\n  font-size: ${({ theme }) => theme.font.size.paragraph};\r\n  transition: background 0.3s ease-in;\r\n  padding: 20px 20px;\r\n  border: none;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  margin: 15px 0 20px 0;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  font-weight: 600;\r\n  text-decoration: none;\r\n  text-align: center;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: auto;\r\n    align-self: flex-end;\r\n  }\r\n`;\r\n\r\nclass CartSection extends Component {\r\n  onRemove = productId => {\r\n    this.props.removeItem(productId);\r\n  };\r\n\r\n  onSubmit = couponCode => {\r\n    this.props.applyCoupon(couponCode);\r\n  };\r\n\r\n  render() {\r\n    const filteredCartItems = this.props.products.map(product =>\r\n      this.props.allProducts.filter(\r\n        mdProduct => mdProduct.node.frontmatter.id === product.productId\r\n      )\r\n    );\r\n    const cartItems = [].concat(...filteredCartItems);\r\n\r\n    if (!cartItems.length) {\r\n      return (\r\n        <StyledWrapper>\r\n          <p>Your cart is empty</p>\r\n        </StyledWrapper>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <StyledWrapper>\r\n        <CartTable\r\n          products={cartItems}\r\n          cartItems={this.props.products}\r\n          removeItem={this.onRemove}\r\n          isFetching={this.props.isFetchingCart}\r\n        />\r\n        <Coupon onSubmit={this.onSubmit} isFetching={this.props.isFetching} />\r\n        <TotalSection products={cartItems} cartItems={this.props.products} />\r\n        <StyledButton to=\"/checkout\">Proceed to checkout</StyledButton>\r\n      </StyledWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCartSection.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  allProducts: PropTypes.arrayOf(PropTypes.shape()),\r\n  removeItem: PropTypes.func,\r\n  applyCoupon: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n  isFetchingCart: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.cart.cartItems,\r\n  isFetching: state.cart.fetching.fetchingCoupon,\r\n  isFetchingCart: state.cart.fetching.fetchingCart,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      applyCoupon: cartActions.applyCoupon,\r\n      removeItem: cartActions.removeItem,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CartSection);\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport PropTypes from 'prop-types';\r\nimport HomeTemplate from '../templates/HomeTemplate';\r\nimport SEO from '../components/seo';\r\nimport Header from '../components/common/Header';\r\nimport CartSection from '../components/cart/CartSection';\r\n\r\nconst Cart = ({ data }) => (\r\n  <HomeTemplate>\r\n    <SEO title=\"Cart\" keywords={[`renome`, `restaurant`]} />\r\n    <Header photo={data.menuHeader} section=\"your\" title=\"shopping cart\" />\r\n    <CartSection allProducts={data.allMarkdownRemark.edges} />\r\n  </HomeTemplate>\r\n);\r\n\r\nexport const query = graphql`\r\n  query {\r\n    menuHeader: file(relativePath: { eq: \"images/headers/shop.png\" }) {\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000, quality: 100) {\r\n          ...GatsbyImageSharpFluid_noBase64\r\n        }\r\n      }\r\n    }\r\n\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n            category\r\n            type\r\n            id\r\n            price\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nCart.propTypes = {\r\n  data: PropTypes.shape().isRequired,\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport SEO from '../components/seo';\r\nimport Snackbar from '../components/common/Snackbar';\r\nimport Footer from '../components/common/Footer';\r\nimport GlobalStyles from '../assets/styles/GlobalStyles';\r\nimport { theme } from '../assets/styles/theme';\r\nimport * as appActions from '../appLogic/appActions';\r\n\r\nconst HomeTemplate = ({\r\n  children,\r\n  message,\r\n  kind,\r\n  closeMessage,\r\n  isSnackBarActive,\r\n}) => (\r\n  <ThemeProvider theme={theme}>\r\n    <>\r\n      <SEO title=\"Home\" keywords={[`renome`, `restaurant`, `food`]} />\r\n      <GlobalStyles />\r\n      <main>{children}</main>\r\n      {isSnackBarActive && (\r\n        <Snackbar\r\n          message={message}\r\n          isActive={isSnackBarActive}\r\n          type={kind}\r\n          closeMessage={closeMessage}\r\n        />\r\n      )}\r\n      <Footer />\r\n    </>\r\n  </ThemeProvider>\r\n);\r\n\r\nHomeTemplate.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]).isRequired,\r\n  message: PropTypes.string,\r\n  kind: PropTypes.string,\r\n  closeMessage: PropTypes.func,\r\n  isSnackBarActive: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  kind: state.appData.message.kind,\r\n  isSnackBarActive: state.appData.isSnackBarActive,\r\n  message: state.appData.message.content,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      closeMessage: appActions.closeMessage,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomeTemplate);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledLoader = styled.div`\r\n  position: absolute;\r\n  height: 50px;\r\n  width: inherit;\r\n\r\n  &:before {\r\n    animation: rotate 0.9s linear infinite both;\r\n    border: 3px solid ${({ theme }) => theme.white};\r\n    border-bottom-color: ${({ theme }) => theme.primary};\r\n    border-radius: 100%;\r\n    content: '';\r\n    height: 20px;\r\n    top: -20%;\r\n    width: 20px;\r\n    left: 43%;\r\n    position: absolute;\r\n    will-change: transform;\r\n    transform-origin: center;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <StyledLoader\r\n    role=\"alert\"\r\n    aria-live=\"assertive\"\r\n    aria-label=\"Content is loading\"\r\n  />\r\n);\r\n\r\nexport default Loader;\r\n","const formatPrice = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n  minimumFractionDigits: 2,\r\n});\r\n\r\nexport default formatPrice;\r\n","import * as cartActions from './cartConstants';\r\n\r\nexport const applyCoupon = couponCode => ({\r\n  type: cartActions.APPLY_COUPON.INVOKE,\r\n  couponCode,\r\n});\r\n\r\nexport const removeItem = productId => ({\r\n  type: cartActions.REMOVE_ITEM.INVOKE,\r\n  productId,\r\n});\r\n\r\nexport const addToCart = ({ quantity, itemId }) => ({\r\n  type: cartActions.ADD_TO_CART.INVOKE,\r\n  quantity,\r\n  itemId,\r\n});\r\n"],"sourceRoot":""}