{"version":3,"sources":["webpack:///./src/components/cart/CartTable.js","webpack:///./src/components/cart/TotalSection.js","webpack:///./src/components/cart/Coupon.js","webpack:///./src/components/cart/CartSection.js","webpack:///./src/pages/cart.js","webpack:///./src/templates/HomeTemplate.js","webpack:///./src/components/common/Loader.js","webpack:///./src/utils/formatPrice.js","webpack:///./src/components/cart/logic/cartActions.js"],"names":["StyledWrapper","styled","article","_templateObject","StyledTable","table","_templateObject2","_ref","theme","font","family","montserrat","StyledTableRow","tr","_templateObject3","_ref2","lightGray","StyledTableCell","td","_templateObject4","_ref3","clickable","StyledHeadTableCell","_templateObject5","CartTable","_ref4","products","cartItems","removeItem","react_default","a","createElement","map","product","key","node","frontmatter","id","title","number","find","cartItem","productId","quantity","formatPrice","format","price","onClick","propTypes","PropTypes","arrayOf","shape","func","TotalSection_templateObject","div","TotalSection_templateObject2","TotalSection_templateObject3","right","TotalSection","subTotal","shipping","reduce","accumulator","currentValue","calculatePrice","shippingPrice","parseInt","TotalSection_StyledWrapper","TotalSection_StyledTableRow","TotalSection_StyledTableCell","StyledInput","input","Coupon_templateObject","Coupon","onSubmit","isFetching","_useState","useState","couponCode","setCouponCode","handleSubmit","event","preventDefault","type","placeholder","value","onChange","target","name","aria-label","common","disabled","Loader","bool","CartSection_templateObject","StyledButton","Link","CartSection_templateObject2","isSuccess","primary","white","size","paragraph","CartSection","onRemove","_this","props","applyCoupon","render","_this2","this","filteredCartItems","allProducts","filter","mdProduct","flat","CartSection_StyledWrapper","cart_CartTable","cart_Coupon","cart_TotalSection","to","Component","connect","state","cart","fetching","fetchingCoupon","dispatch","bindActionCreators","cartActions","__webpack_require__","d","__webpack_exports__","query","Cart","data","HomeTemplate","seo","keywords","Header","photo","menuHeader","section","cart_CartSection","allMarkdownRemark","edges","Footer","isRequired","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","styled_components__WEBPACK_IMPORTED_MODULE_4__","_components_seo__WEBPACK_IMPORTED_MODULE_5__","_components_common_Snackbar__WEBPACK_IMPORTED_MODULE_6__","_assets_styles_GlobalStyles__WEBPACK_IMPORTED_MODULE_7__","_assets_styles_theme__WEBPACK_IMPORTED_MODULE_8__","_appLogic_appActions__WEBPACK_IMPORTED_MODULE_9__","children","message","kind","closeMessage","isSnackBarActive","Fragment","isActive","oneOfType","string","appData","content","appActions","StyledLoader","react__WEBPACK_IMPORTED_MODULE_1___default","role","aria-live","Intl","NumberFormat","style","currency","minimumFractionDigits","addToCart","_cartConstants__WEBPACK_IMPORTED_MODULE_0__","INVOKE","itemId"],"mappings":"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","file":"component---src-pages-cart-js-bf7da529ba05b9939468.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTable = styled.table`\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledTableRow = styled.tr`\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StyledTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst StyledHeadTableCell = styled.td`\r\n  padding: 15px 0;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n\r\n  @media (min-width: 1200px) {\r\n    padding: 20px;\r\n  }\r\n`;\r\n\r\nconst CartTable = ({ products, cartItems, removeItem }) => {\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTable>\r\n        <thead>\r\n          <StyledTableRow>\r\n            <StyledHeadTableCell>Product</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Qty</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Price</StyledHeadTableCell>\r\n            <StyledHeadTableCell>Total</StyledHeadTableCell>\r\n            <StyledHeadTableCell>&nbsp;</StyledHeadTableCell>\r\n          </StyledTableRow>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <StyledTableRow key={product.node.frontmatter.id}>\r\n              <StyledTableCell>\r\n                {product.node.frontmatter.title}\r\n              </StyledTableCell>\r\n              <StyledTableCell number>\r\n                {\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity\r\n                }\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(product.node.frontmatter.price)}\r\n              </StyledTableCell>\r\n              <StyledTableCell>\r\n                {formatPrice.format(\r\n                  cartItems.find(\r\n                    cartItem =>\r\n                      cartItem.productId === product.node.frontmatter.id\r\n                  ).quantity * product.node.frontmatter.price\r\n                )}\r\n              </StyledTableCell>\r\n              <StyledTableCell\r\n                onClick={() => removeItem(product.node.frontmatter.id)}\r\n                clickable\r\n              >\r\n                &#11199;\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </tbody>\r\n      </StyledTable>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nCartTable.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n  removeItem: PropTypes.func,\r\n};\r\n\r\nexport default CartTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport formatPrice from '../../utils/formatPrice';\r\n\r\nconst StyledWrapper = styled.article`\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n  width: 100%;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 50%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nconst StyledTableRow = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${({ theme }) => theme.lightGray};\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StyledTableCell = styled.div`\r\n  padding: 15px 0;\r\n  text-transform: capitalize;\r\n  margin-left: ${({ right }) => (right ? 'auto' : '0')};\r\n`;\r\n\r\nconst calculatePrice = (products, cartItems, shipping) => {\r\n  let price = products.reduce((accumulator, currentValue) => {\r\n    const quantity = cartItems.find(\r\n      cartItem => cartItem.productId === currentValue.node.frontmatter.id\r\n    ).quantity;\r\n    return (accumulator += currentValue.node.frontmatter.price * quantity);\r\n  }, 0);\r\n\r\n  return shipping !== 'FREE' ? price : (price += shipping);\r\n};\r\n\r\nconst verifyIfShippingCanBeFree = price => (price > 30 ? 0 : 10);\r\n\r\nconst TotalSection = ({ products, cartItems }) => {\r\n  const subTotal = calculatePrice(products, cartItems);\r\n  const shippingPrice = verifyIfShippingCanBeFree(parseInt(subTotal));\r\n\r\n  return (\r\n    <StyledWrapper>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Subtotal</StyledTableCell>\r\n        <StyledTableCell right>{formatPrice.format(subTotal)}</StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Shipping</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n      <StyledTableRow>\r\n        <StyledTableCell>Total</StyledTableCell>\r\n        <StyledTableCell right>\r\n          {formatPrice.format(subTotal + shippingPrice)}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    </StyledWrapper>\r\n  );\r\n};\r\n\r\nTotalSection.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  cartItems: PropTypes.arrayOf(PropTypes.shape()),\r\n};\r\n\r\nexport default TotalSection;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { StyledButton } from '../common/common';\r\nimport Loader from '../common/Loader';\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  padding: 15px 10px;\r\n  border-bottom: 3px solid ${({ theme }) => theme.lightGray};\r\n  width: 100%;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nconst Coupon = ({ onSubmit, isFetching }) => {\r\n  const [couponCode, setCouponCode] = useState('');\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmit(couponCode);\r\n\r\n    setCouponCode('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={event => handleSubmit(event)}>\r\n      <StyledInput\r\n        type=\"text\"\r\n        placeholder=\"Coupon code\"\r\n        value={couponCode}\r\n        onChange={event => setCouponCode(event.target.value)}\r\n        name=\"coupon\"\r\n        aria-label=\"If you have a coupon code you'd like to use, type it here\"\r\n      />\r\n      <StyledButton type=\"submit\" disabled={isFetching}>\r\n        {isFetching && <Loader />}\r\n        {!isFetching && 'Apply coupon'}\r\n      </StyledButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nCoupon.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nexport default Coupon;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'gatsby';\r\nimport * as cartActions from './logic/cartActions';\r\nimport CartTable from './CartTable';\r\nimport TotalSection from './TotalSection';\r\nimport Coupon from './Coupon';\r\n\r\nconst StyledWrapper = styled.div`\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  margin-bottom: 40px;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledButton = styled(Link)`\r\n  background-color: ${({ isSuccess, theme }) =>\r\n    isSuccess ? theme.primary : '#1e2633'};\r\n  text-transform: uppercase;\r\n  color: ${({ theme }) => theme.white};\r\n  font-size: ${({ theme }) => theme.font.size.paragraph};\r\n  transition: background 0.3s ease-in;\r\n  padding: 20px 20px;\r\n  border: none;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  margin: 15px 0 20px 0;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  font-weight: 600;\r\n  text-decoration: none;\r\n  text-align: center;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: auto;\r\n    align-self: flex-end;\r\n  }\r\n`;\r\n\r\nclass CartSection extends Component {\r\n  onRemove = productId => {\r\n    this.props.removeItem(productId);\r\n  };\r\n\r\n  onSubmit = couponCode => {\r\n    this.props.applyCoupon(couponCode);\r\n  };\r\n\r\n  render() {\r\n    const filteredCartItems = this.props.products\r\n      .map(product =>\r\n        this.props.allProducts.filter(\r\n          mdProduct => mdProduct.node.frontmatter.id === product.productId\r\n        )\r\n      )\r\n      .flat();\r\n\r\n    return (\r\n      <StyledWrapper>\r\n        <CartTable\r\n          products={filteredCartItems}\r\n          cartItems={this.props.products}\r\n          removeItem={this.onRemove}\r\n        />\r\n        <Coupon onSubmit={this.onSubmit} isFetching={this.props.isFetching} />\r\n        <TotalSection\r\n          products={filteredCartItems}\r\n          cartItems={this.props.products}\r\n        />\r\n        <StyledButton to=\"/checkout\">Proceed to checkout</StyledButton>\r\n      </StyledWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nCartSection.propTypes = {\r\n  products: PropTypes.arrayOf(PropTypes.shape()),\r\n  allProducts: PropTypes.arrayOf(PropTypes.shape()),\r\n  removeItem: PropTypes.func,\r\n  applyCoupon: PropTypes.func,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.cart.cartItems,\r\n  isFetching: state.cart.fetching.fetchingCoupon,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      applyCoupon: cartActions.applyCoupon,\r\n      removeItem: cartActions.removeItem,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CartSection);\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport PropTypes from 'prop-types';\r\nimport HomeTemplate from '../templates/HomeTemplate';\r\nimport SEO from '../components/seo';\r\nimport Header from '../components/common/Header';\r\nimport CartSection from '../components/cart/CartSection';\r\nimport Footer from '../components/common/Footer';\r\n\r\nconst Cart = ({ data }) => (\r\n  <HomeTemplate>\r\n    <SEO title=\"Cart\" keywords={[`renome`, `restaurant`]} />\r\n    <Header photo={data.menuHeader} section=\"your\" title=\"shopping cart\" />\r\n    <CartSection allProducts={data.allMarkdownRemark.edges} />\r\n    <Footer />\r\n  </HomeTemplate>\r\n);\r\n\r\nexport const query = graphql`\r\n  query {\r\n    menuHeader: file(relativePath: { eq: \"images/headers/shop.png\" }) {\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000, quality: 100) {\r\n          ...GatsbyImageSharpFluid_noBase64\r\n        }\r\n      }\r\n    }\r\n\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n            category\r\n            type\r\n            id\r\n            price\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nCart.propTypes = {\r\n  data: PropTypes.shape().isRequired,\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport SEO from '../components/seo';\r\nimport Snackbar from '../components/common/Snackbar';\r\nimport GlobalStyles from '../assets/styles/GlobalStyles';\r\nimport { theme } from '../assets/styles/theme';\r\nimport * as appActions from '../appLogic/appActions';\r\n\r\nconst HomeTemplate = ({\r\n  children,\r\n  message,\r\n  kind,\r\n  closeMessage,\r\n  isSnackBarActive,\r\n}) => (\r\n  <ThemeProvider theme={theme}>\r\n    <>\r\n      <SEO title=\"Home\" keywords={[`renome`, `restaurant`, `food`]} />\r\n      <GlobalStyles />\r\n      <main>{children}</main>\r\n      {isSnackBarActive && (\r\n        <Snackbar\r\n          message={message}\r\n          isActive={isSnackBarActive}\r\n          type={kind}\r\n          closeMessage={closeMessage}\r\n        />\r\n      )}\r\n    </>\r\n  </ThemeProvider>\r\n);\r\n\r\nHomeTemplate.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]).isRequired,\r\n  message: PropTypes.string,\r\n  kind: PropTypes.string,\r\n  closeMessage: PropTypes.func,\r\n  isSnackBarActive: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  kind: state.appData.message.kind,\r\n  isSnackBarActive: state.appData.isSnackBarActive,\r\n  message: state.appData.message.content,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      closeMessage: appActions.closeMessage,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HomeTemplate);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledLoader = styled.div`\r\n  position: absolute;\r\n  height: 50px;\r\n  width: inherit;\r\n\r\n  &:before {\r\n    animation: rotate 0.9s linear infinite both;\r\n    border: 3px solid ${({ theme }) => theme.white};\r\n    border-bottom-color: ${({ theme }) => theme.primary};\r\n    border-radius: 100%;\r\n    content: '';\r\n    height: 20px;\r\n    top: -20%;\r\n    width: 20px;\r\n    left: 43%;\r\n    position: absolute;\r\n    will-change: transform;\r\n    transform-origin: center;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <StyledLoader\r\n    role=\"alert\"\r\n    aria-live=\"assertive\"\r\n    aria-label=\"Content is loading\"\r\n  />\r\n);\r\n\r\nexport default Loader;\r\n","const formatPrice = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n  minimumFractionDigits: 2,\r\n});\r\n\r\nexport default formatPrice;\r\n","import * as cartActions from './cartConstants';\r\n\r\nexport const applyCoupon = couponCode => ({\r\n  type: cartActions.APPLY_COUPON.INVOKE,\r\n  couponCode,\r\n});\r\n\r\nexport const removeItem = productId => ({\r\n  type: cartActions.REMOVE_ITEM.INVOKE,\r\n  productId,\r\n});\r\n\r\nexport const addToCart = ({ quantity, itemId }) => ({\r\n  type: cartActions.ADD_TO_CART.INVOKE,\r\n  quantity,\r\n  itemId,\r\n});\r\n"],"sourceRoot":""}