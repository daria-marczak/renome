{"version":3,"sources":["webpack:///./src/components/shop/ProductReviews.js","webpack:///./src/components/shop/logic/shopActions.js","webpack:///./src/components/shop/ReviewForm.js","webpack:///./src/components/shop/ProductPage.js","webpack:///./src/templates/ShopTemplate.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/common/Loader.js","webpack:///./src/components/cart/logic/cartActions.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js"],"names":["StyledAvatar","styled","div","_templateObject","_ref","theme","lightGray","StyledCommentContent","StyledParagraph","_templateObject2","StyledComment","li","_templateObject3","StyledCommentAuthor","_templateObject4","StyledMobileComment","_templateObject5","StyledAuthorParagraph","p","_templateObject6","StyledMobileParagraph","_templateObject7","StyledStar","_templateObject8","_ref2","primary","StyledReview","_templateObject9","ProductReviews","_ref3","review","react_default","a","createElement","author","Array","parseInt","stars","fill","content","propTypes","PropTypes","shape","isRequired","addReview","reviewContent","type","shopActions","INVOKE","StyledForm","form","ReviewForm_templateObject","font","family","montserrat","StyledSectionHeader","h2","ReviewForm_templateObject2","StyledFormWrapper","ReviewForm_templateObject3","StyledInput","input","ReviewForm_templateObject4","ReviewForm","props","_this","_Component","call","this","onSubmit","event","preventDefault","state","onChange","_this$setState","setState","target","name","value","email","rating","message","render","_this2","_this$state","isFetching","required","placeholder","min","max","common","disabled","Loader","Component","func","bool","connect","comments","blog","shop","fetching","fetchingReviews","dispatch","bindActionCreators","StyledShopHeading","StyledLevelTwoHeading","ProductPage_templateObject","ProductPage_templateObject2","ProductPage_templateObject3","StyledPrice","StyledDescription","ProductPage_templateObject4","ProductPage_templateObject5","ProductPage_templateObject6","StyledReviewsSection","section","ProductPage_templateObject7","ProductPage_templateObject8","_ref4","StyledImage","Img","ProductPage_templateObject9","ProductPage","_ref5","photo","product","addToCart","reviews","_useState","useState","quantity","setQuantity","title","fluid","childImageSharp","isDescription","frontmatter","ProductPage_StyledReview","customers","ProductPage_StyledStar","price","description","ProductPage_StyledForm","itemId","id","ProductPage_StyledInput","aria-valuemin","aria-valuemax","aria-label","ProductPage_StyledSectionHeader","map","shop_ProductReviews","key","shop_ReviewForm","arrayOf","cart","fetchingCart","cartActions","ShopTemplate","isSnackBarActive","kind","closeMessage","_ref$data","data","markdownRemark","allFile","shopHeader","styled_components_browser_esm","Fragment","seo","keywords","Header","GlobalStyles","shop_ProductPage","edges","find","edge","node","toLowerCase","Footer","Snackbar","isActive","objectOf","string","query","appData","appActions","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","configurable","get","match","e","StyledLoader","white","react__WEBPACK_IMPORTED_MODULE_1___default","role","aria-live","d","__webpack_exports__","applyCoupon","removeItem","_cartConstants__WEBPACK_IMPORTED_MODULE_0__","couponCode","productId","$export","P","toObject","toAbsoluteIndex","toLength","module","exports","O","length","aLen","arguments","index","undefined","end","endPos"],"mappings":"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","file":"component---src-templates-shop-template-js-f0f89c7013bcecb95182.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { StyledParagraph } from '../common/common';\r\n\r\nconst StyledAvatar = styled.div`\r\n  background: ${({ theme }) => theme.lightGray};\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst StyledCommentContent = styled(StyledParagraph)`\r\n  font-size: 14px;\r\n`;\r\n\r\nconst StyledComment = styled.li`\r\n  list-style-type: none;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst StyledCommentAuthor = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledMobileComment = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  @media (min-width: 1200px) {\r\n    align-items: initial;\r\n    justify-content: flex-start;\r\n  }\r\n`;\r\n\r\nconst StyledAuthorParagraph = styled.p`\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n\r\n  @media (min-width: 1200px) {\r\n    display: none;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst StyledMobileParagraph = styled.p`\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  display: none;\r\n\r\n  @media (min-width: 1200px) {\r\n    display: flex;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst StyledStar = styled.p`\r\n  color: ${({ theme }) => theme.primary};\r\n`;\r\nconst StyledReview = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: auto;\r\n`;\r\n\r\nconst ProductReviews = ({ review }) => (\r\n  <StyledComment>\r\n    <StyledCommentAuthor>\r\n      <StyledMobileComment>\r\n        <StyledAvatar />\r\n        <StyledMobileParagraph>{review.author}</StyledMobileParagraph>\r\n        <StyledReview>\r\n          {Array(parseInt(review.stars)).fill(<StyledStar>&#9733;</StyledStar>)}\r\n        </StyledReview>\r\n      </StyledMobileComment>\r\n      <StyledAuthorParagraph>{review.author}</StyledAuthorParagraph>\r\n      <StyledCommentContent>{review.content}</StyledCommentContent>\r\n    </StyledCommentAuthor>\r\n  </StyledComment>\r\n);\r\n\r\nProductReviews.propTypes = {\r\n  review: PropTypes.shape().isRequired,\r\n};\r\n\r\nexport default ProductReviews;\r\n","import * as shopActions from './shopConstants';\r\n\r\nexport const addReview = reviewContent => ({\r\n  type: shopActions.ADD_REVIEW.INVOKE,\r\n  reviewContent,\r\n});\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as shopActions from './logic/shopActions';\r\nimport Loader from '../common/Loader';\r\nimport { StyledButton } from '../common/common';\r\n\r\nconst StyledForm = styled.form`\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst StyledSectionHeader = styled.h2`\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst StyledFormWrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n\r\n  @media (min-width: 1200px) {\r\n    flex-direction: row;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  padding: 15px 10px;\r\n  border-bottom: 3px solid ${({ theme }) => theme.lightGray};\r\n  margin-left: 10px;\r\n  flex: 1;\r\n`;\r\n\r\nclass ReviewForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      author: '',\r\n      email: '',\r\n      rating: 1,\r\n      message: '',\r\n    };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { addReview } = this.props;\r\n\r\n    event.preventDefault();\r\n    addReview(this.state);\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { author, email, rating, message } = this.state;\r\n    const { isFetching } = this.props;\r\n\r\n    return (\r\n      <StyledForm onSubmit={this.onSubmit}>\r\n        <StyledSectionHeader>Leave a review</StyledSectionHeader>\r\n        <StyledFormWrapper>\r\n          <StyledInput\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"Name\"\r\n            value={author}\r\n            onChange={event => this.onChange(event)}\r\n            name=\"author\"\r\n          />\r\n          <StyledInput\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={event => this.onChange(event)}\r\n            name=\"email\"\r\n          />\r\n        </StyledFormWrapper>\r\n        <StyledInput\r\n          type=\"number\"\r\n          required\r\n          min={1}\r\n          max={5}\r\n          value={rating}\r\n          onChange={event => this.onChange(event)}\r\n          name=\"rating\"\r\n        />\r\n        <StyledInput\r\n          type=\"text\"\r\n          required\r\n          placeholder=\"Message\"\r\n          value={message}\r\n          onChange={event => this.onChange(event)}\r\n          name=\"message\"\r\n        />\r\n        <StyledButton type=\"submit\" disabled={isFetching}>\r\n          {isFetching && <Loader />}\r\n          {!isFetching && 'Post review'}\r\n        </StyledButton>\r\n      </StyledForm>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  comments: state.blog.comments,\r\n  isFetching: state.shop.fetching.fetchingReviews,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      addReview: shopActions.addReview,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nReviewForm.propTypes = {\r\n  addReview: PropTypes.func.isRequired,\r\n  isFetching: PropTypes.bool,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ReviewForm);\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport styled from 'styled-components';\r\nimport Img from 'gatsby-image';\r\nimport {\r\n  StyledSection,\r\n  StyledWrapper,\r\n  StyledLevelTwoHeading,\r\n  StyledColumn,\r\n  StyledParagraph,\r\n  StyledDescription,\r\n  StyledButton,\r\n} from '../common/common';\r\nimport * as cartActions from '../cart/logic/cartActions';\r\nimport ProductReviews from './ProductReviews';\r\nimport ReviewForm from './ReviewForm';\r\nimport Loader from '../common/Loader';\r\n\r\nconst StyledShopHeading = styled(StyledLevelTwoHeading)`\r\n  text-transform: lowercase;\r\n  letter-spacing: 0.07em;\r\n`;\r\n\r\nconst StyledStar = styled.p`\r\n  color: ${({ theme }) => theme.primary};\r\n`;\r\nconst StyledReview = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledPrice = styled(StyledDescription)`\r\n  font-size: 18px;\r\n  margin-top: 0;\r\n`;\r\n\r\nconst StyledForm = styled.form`\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  display: flex;\r\n`;\r\n\r\nconst StyledSectionHeader = styled.h2`\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst StyledReviewsSection = styled.section`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  margin: 0 auto;\r\n  width: 90%;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 55%;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  font-family: ${({ theme }) => theme.font.family.montserrat};\r\n  padding: 15px 10px;\r\n  border-bottom: 3px solid ${({ theme }) => theme.lightGray};\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst StyledImage = styled(Img)`\r\n  width: 300px;\r\n  height: 300px;\r\n\r\n  @media (min-width: 1200px) {\r\n    width: 400px;\r\n    height: 400px;\r\n    transform: translateX(320px);\r\n  }\r\n`;\r\n\r\nconst ProductPage = ({ photo, product, addToCart, reviews, isFetching }) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const handleAddToCart = event => {\r\n    event.preventDefault();\r\n    addToCart({ quantity, itemId: product.frontmatter.id });\r\n  };\r\n\r\n  return (\r\n    <StyledSection title=\"shop\">\r\n      <StyledWrapper>\r\n        <StyledColumn>\r\n          <StyledImage fluid={photo.childImageSharp.fluid} />\r\n        </StyledColumn>\r\n        <StyledColumn isDescription>\r\n          <StyledShopHeading>{product.frontmatter.title}</StyledShopHeading>\r\n          <StyledReview>\r\n            <StyledParagraph>{`${\r\n              product.frontmatter.customers\r\n            } customer review`}</StyledParagraph>\r\n            {Array(parseInt(product.frontmatter.stars)).fill(\r\n              <StyledStar>&#9733;</StyledStar>\r\n            )}\r\n          </StyledReview>\r\n          <StyledPrice>{product.frontmatter.price}</StyledPrice>\r\n          <StyledParagraph>{product.frontmatter.description}</StyledParagraph>\r\n          <StyledForm onSubmit={handleAddToCart}>\r\n            <StyledInput\r\n              type=\"number\"\r\n              min=\"1\"\r\n              aria-valuemin={1}\r\n              max=\"10\"\r\n              aria-valuemax={10}\r\n              value={quantity}\r\n              aria-label={`Number of items is ${quantity}`}\r\n              onChange={event => setQuantity(event.target.value)}\r\n              required\r\n            />\r\n            <StyledButton type=\"submit\" aria-label=\"Buy\" disabled={isFetching}>\r\n              {isFetching && <Loader />}\r\n              {!isFetching && 'Add to cart'}\r\n            </StyledButton>\r\n          </StyledForm>\r\n        </StyledColumn>\r\n      </StyledWrapper>\r\n      <StyledReviewsSection>\r\n        <StyledSectionHeader>Reviews</StyledSectionHeader>\r\n        {reviews.map(review => (\r\n          <ProductReviews review={review} key={review.id} />\r\n        ))}\r\n        <ReviewForm />\r\n      </StyledReviewsSection>\r\n    </StyledSection>\r\n  );\r\n};\r\n\r\nProductPage.propTypes = {\r\n  photo: PropTypes.shape().isRequired,\r\n  product: PropTypes.shape().isRequired,\r\n  addToCart: PropTypes.func.isRequired,\r\n  isFetching: PropTypes.bool,\r\n  reviews: PropTypes.arrayOf(PropTypes.shape()).isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  reviews: state.shop.reviews,\r\n  isFetching: state.cart.fetching.fetchingCart,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      addToCart: cartActions.addToCart,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ProductPage);\r\n","import React from 'react';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport { graphql } from 'gatsby';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport SEO from '../components/seo';\r\nimport GlobalStyles from '../assets/styles/GlobalStyles';\r\nimport { theme } from '../assets/styles/theme';\r\nimport Header from '../components/common/Header';\r\nimport ProductPage from '../components/shop/ProductPage';\r\nimport Footer from '../components/common/Footer';\r\nimport Snackbar from '../components/common/Snackbar';\r\nimport * as appActions from '../appLogic/appActions';\r\n\r\nconst ShopTemplate = ({\r\n  isSnackBarActive,\r\n  message,\r\n  kind,\r\n  closeMessage,\r\n  data: { markdownRemark: product, allFile, shopHeader },\r\n}) => (\r\n  <ThemeProvider theme={theme}>\r\n    <>\r\n      <SEO\r\n        title={product.frontmatter.title}\r\n        keywords={[`renome`, `restaurant`, `food`]}\r\n      />\r\n      <Header photo={shopHeader} section=\"shop\" title=\"order dishes online\" />\r\n      <GlobalStyles />\r\n      <main>\r\n        <ProductPage\r\n          product={product}\r\n          photo={\r\n            allFile.edges.find(\r\n              edge =>\r\n                edge.node.name.toLowerCase() ===\r\n                product.frontmatter.title.toLowerCase()\r\n            ).node\r\n          }\r\n        />\r\n      </main>\r\n      <Footer />\r\n      {isSnackBarActive && (\r\n        <Snackbar\r\n          message={message}\r\n          isActive={isSnackBarActive}\r\n          type={kind}\r\n          closeMessage={closeMessage}\r\n        />\r\n      )}\r\n    </>\r\n  </ThemeProvider>\r\n);\r\n\r\nShopTemplate.propTypes = {\r\n  data: PropTypes.objectOf(PropTypes.shape()).isRequired,\r\n  message: PropTypes.string,\r\n  kind: PropTypes.string,\r\n  closeMessage: PropTypes.func,\r\n  isSnackBarActive: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  kind: state.appData.message.kind,\r\n  isSnackBarActive: state.appData.isSnackBarActive,\r\n  message: state.appData.message.content,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      closeMessage: appActions.closeMessage,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  query($slug: String!) {\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      html\r\n      frontmatter {\r\n        title\r\n        id\r\n        type\r\n        stars\r\n        customers\r\n        category\r\n        price\r\n        description\r\n      }\r\n    }\r\n\r\n    shopHeader: file(relativePath: { eq: \"images/headers/shop.png\" }) {\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000, quality: 100) {\r\n          ...GatsbyImageSharpFluid_noBase64\r\n        }\r\n      }\r\n    }\r\n\r\n    allFile(filter: { absolutePath: { regex: \"/shop/\" } }) {\r\n      edges {\r\n        node {\r\n          id\r\n          name\r\n          childImageSharp {\r\n            fluid(quality: 100) {\r\n              ...GatsbyImageSharpFluid_withWebp_tracedSVG\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ShopTemplate);\r\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledLoader = styled.div`\r\n  position: absolute;\r\n  height: 50px;\r\n  width: inherit;\r\n\r\n  &:before {\r\n    animation: rotate 0.9s linear infinite both;\r\n    border: 3px solid ${({ theme }) => theme.white};\r\n    border-bottom-color: ${({ theme }) => theme.primary};\r\n    border-radius: 100%;\r\n    content: '';\r\n    height: 20px;\r\n    top: -20%;\r\n    width: 20px;\r\n    left: 43%;\r\n    position: absolute;\r\n    will-change: transform;\r\n    transform-origin: center;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <StyledLoader\r\n    role=\"alert\"\r\n    aria-live=\"assertive\"\r\n    aria-label=\"Content is loading\"\r\n  />\r\n);\r\n\r\nexport default Loader;\r\n","import * as cartActions from './cartConstants';\r\n\r\nexport const applyCoupon = couponCode => ({\r\n  type: cartActions.APPLY_COUPON.INVOKE,\r\n  couponCode,\r\n});\r\n\r\nexport const removeItem = productId => ({\r\n  type: cartActions.REMOVE_ITEM.INVOKE,\r\n  productId,\r\n});\r\n\r\nexport const addToCart = ({ quantity, itemId }) => ({\r\n  type: cartActions.ADD_TO_CART.INVOKE,\r\n  quantity,\r\n  itemId,\r\n});\r\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n"],"sourceRoot":""}