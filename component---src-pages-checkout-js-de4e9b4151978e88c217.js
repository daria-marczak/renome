(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),i=n.n(o),l=n(215),c=n(212),s=n(226),d=(n(23),n(100)),u=n(25),m=n(207),p=n(16),h=function(){return{type:p.c.INVOKE}},f=function(e,t){return{type:p.a.INVOKE,address:e,kind:t}},y=function(e){return{type:p.b,paymentMethod:e}},g=n(211),b=n(223);var E=m.c.h2.withConfig({displayName:"AddressForm__StyledHeading",componentId:"sc-1lrbdd4-0"})(["font-weight:700;text-transform:uppercase;font-size:18px;"]),w=m.c.div.withConfig({displayName:"AddressForm__StyledFormWrapper",componentId:"sc-1lrbdd4-1"})(["width:80%;margin:0 auto;"]),x=m.c.form.withConfig({displayName:"AddressForm__StyledForm",componentId:"sc-1lrbdd4-2"})(["display:flex;flex-direction:column;font-family:",";flex:1;"],function(e){return e.theme.font.family.montserrat}),C=m.c.div.withConfig({displayName:"AddressForm__StyledOneLine",componentId:"sc-1lrbdd4-3"})(["display:flex;flex-direction:column;@media (min-width:1200px){flex-direction:row;}"]),v=m.c.label.withConfig({displayName:"AddressForm__StyledLabel",componentId:"sc-1lrbdd4-4"})(["display:flex;flex-direction:column;margin:0 0 30px 5px;text-transform:uppercase;font-size:14px;@media (min-width:1200px){width:",";}"],function(e){return e.fullWidth?"100%":"50%"}),_=m.c.input.withConfig({displayName:"AddressForm__StyledInput",componentId:"sc-1lrbdd4-5"})(["border:none;font-family:",";padding:15px 10px;border-bottom:3px solid ",";"],function(e){return e.theme.font.family.montserrat},function(e){return e.theme.lightGray}),S=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).onChange=function(e){var t;n.setState(((t={})[e.target.name]=e.target.value,t))},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state,n.props.type)},n.state={country:"",firstName:"",lastName:"",companyName:"",addressLine1:"",addressLine2:"",city:"",county:"",postcode:"",emailAddress:"",phone:""},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this,t=this.state,n=t.country,a=t.county,o=t.postcode,i=t.emailAddress,l=t.phone,c=t.city,s=t.firstName,d=t.lastName,u=t.companyName,m=t.addressLine1,p=t.addressLine2,h=this.props,f=h.type,y=h.shouldShowSubmitButton,S=h.isFetching;return r.a.createElement(w,null,r.a.createElement(x,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(E,null,f),r.a.createElement(v,{fullWidth:!0,htmlFor:"countryName","aria-label":"Type your country name"},"Country",r.a.createElement(_,{type:"text",id:"countryName",name:"country",fullWidth:!0,placeholder:"United Kingdom (UK)",value:n,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(C,null,r.a.createElement(v,{htmlFor:"firstName","aria-label":"Type your first name"},"First name",r.a.createElement(_,{type:"text",id:"firstName",name:"firstName",value:s,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(v,{htmlFor:"lastName","aria-label":"Type your last name"},"Last name",r.a.createElement(_,{type:"text",id:"lastName",name:"lastName",value:d,onChange:function(t){return e.onChange(t)}}))),r.a.createElement(v,{fullWidth:!0,htmlFor:"companyName","aria-label":"Type your company name"},"Company name",r.a.createElement(_,{type:"text",id:"companyName",name:"companyName",fullWidth:!0,value:u,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(v,{fullWidth:!0,htmlFor:"address","aria-label":"Type your address"},"Address",r.a.createElement(_,{type:"text",id:"address",placeholder:"Street name",name:"addressLine1",fullWidth:!0,value:m,onChange:function(t){return e.onChange(t)},required:!0}),r.a.createElement(_,{type:"text",id:"address",name:"addressLine2",placeholder:"Apartment, suite, unite, etc.",fullWidth:!0,value:p,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(v,{fullWidth:!0,htmlFor:"city","aria-label":"Type your city name"},"Town / city",r.a.createElement(_,{type:"text",id:"city",name:"city",fullWidth:!0,value:c,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(C,null,r.a.createElement(v,{htmlFor:"county","aria-label":"Type your county name"},"County",r.a.createElement(_,{type:"text",id:"county",name:"county",value:a,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(v,{htmlFor:"postcode","aria-label":"Type your postcode"},"Postcode",r.a.createElement(_,{type:"text",id:"postcode",name:"postcode",value:o,onChange:function(t){return e.onChange(t)},required:!0}))),r.a.createElement(C,null,r.a.createElement(v,{htmlFor:"emailAddress","aria-label":"Type your email address"},"Email address",r.a.createElement(_,{type:"text",id:"emailAddress",name:"emailAddress",value:i,onChange:function(t){return e.onChange(t)},required:!0})),r.a.createElement(v,{htmlFor:"phone","aria-label":"Type your phone number"},"Phone",r.a.createElement(_,{type:"text",id:"phone",name:"phone",value:l,onChange:function(t){return e.onChange(t)},required:!0}))),y&&r.a.createElement(g.a,{disabled:S},S&&r.a.createElement(b.a,null),!S&&"Place order")))},a}(a.Component);S.propTypes={type:i.a.string.isRequired,shouldShowSubmitButton:i.a.bool,isFetching:i.a.bool,onSubmit:i.a.func.isRequired},S.defaultProps={shouldShowSubmitButton:!0};var k=S,N=m.c.div.withConfig({displayName:"Details__Wrapper",componentId:"sc-3n4gvu-0"})(["width:80%;margin:0 auto;display:flex;flex-direction:column;"]),I=m.c.label.withConfig({displayName:"Details__Label",componentId:"sc-3n4gvu-1"})(["position:relative;cursor:pointer;margin-bottom:10px;font-family:",";&:before{content:'';margin-right:10px;display:inline-block;vertical-align:text-top;width:20px;height:20px;background-color:",";}&:after{content:'';position:absolute;top:calc(100% / 4);left:5px;width:10px;height:10px;background-color:",";}"],function(e){return e.theme.font.family.montserrat},function(e){return e.theme.lightGray},function(e){return e.checked?"#333":"transparent"}),A=m.c.input.withConfig({displayName:"Details__Input",componentId:"sc-3n4gvu-2"})(["opacity:0;position:absolute;"]),F=m.c.label.withConfig({displayName:"Details__StyledLabel",componentId:"sc-3n4gvu-3"})(["display:flex;flex-direction:column;margin:0 0 30px 5px;text-transform:uppercase;font-size:14px;"]),q=m.c.input.withConfig({displayName:"Details__StyledInput",componentId:"sc-3n4gvu-4"})(["border:none;font-family:",";padding:15px 10px;border-bottom:3px solid ",";"],function(e){return e.theme.font.family.montserrat},function(e){return e.theme.lightGray}),O=function(e){var t=e.createAccount,n=e.password,a=e.shippingAddress,o=e.onChange;return r.a.createElement(N,null,r.a.createElement(I,{htmlFor:"account",checked:t},r.a.createElement(A,{type:"checkbox",id:"account",name:"createAccount",onChange:function(e){return o(e)},checked:t}),"Create an account?"),t&&r.a.createElement("div",null,r.a.createElement("p",null,"Create an account by entering the information below. If you are returning customer, please login at the top of the page"),r.a.createElement(F,{htmlFor:"password"},"Account password",r.a.createElement(q,{type:"text",id:"password",value:n,name:"password",onChange:function(e){return o(e)}}))),r.a.createElement(I,{htmlFor:"shippingAddress",checked:a},r.a.createElement(A,{type:"checkbox",id:"shippingAddress",name:"shippingAddress",onChange:function(e){return o(e)},checked:a}),"Ship to a different address?"))};O.propTypes={createAccount:i.a.bool.isRequired,shippingAddress:i.a.bool.isRequired,password:i.a.string,onChange:i.a.func.isRequired},O.defaultProps={password:""};var T=O,D=(n(101),n(253)),P=m.c.article.withConfig({displayName:"OrderDetails__StyledWrapper",componentId:"f6373q-0"})(["width:80%;margin:0 auto;margin-bottom:40px;"]),M=m.c.h2.withConfig({displayName:"OrderDetails__StyledHeading",componentId:"f6373q-1"})(["font-weight:700;text-transform:uppercase;font-size:18px;"]),W=m.c.table.withConfig({displayName:"OrderDetails__StyledTable",componentId:"f6373q-2"})(["font-family:",";border-collapse:collapse;width:100%;"],function(e){return e.theme.font.family.montserrat}),L=m.c.tr.withConfig({displayName:"OrderDetails__StyledTableRow",componentId:"f6373q-3"})(["border-bottom:1px solid ",";margin-bottom:5px;"],function(e){return e.theme.lightGray}),R=m.c.td.withConfig({displayName:"OrderDetails__StyledTableCell",componentId:"f6373q-4"})(["padding:15px 0;text-transform:capitalize;"]),z=m.c.td.withConfig({displayName:"OrderDetails__StyledHeadTableCell",componentId:"f6373q-5"})(["padding:15px 0;text-transform:uppercase;font-weight:600;"]),B=function(e){var t=e.products,n=function(e,t,n){var a=e.reduce(function(e,n){var a=t.find(function(e){return e.productId===n.node.frontmatter.id}).quantity;return e+n.node.frontmatter.price*a},0);return"FREE"!==n?a:a+=n}(t,e.cartItems),a=parseInt(n)>30?0:10;return r.a.createElement(P,null,r.a.createElement(M,null,"Your order"),r.a.createElement(W,null,r.a.createElement("thead",null,r.a.createElement(L,null,r.a.createElement(z,null,"Product"),r.a.createElement(z,null,"Price"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(L,{key:e.node.frontmatter.id},r.a.createElement(R,null,e.node.frontmatter.title),r.a.createElement(R,null,D.a.format(e.node.frontmatter.price)))}),r.a.createElement(L,null,r.a.createElement(R,null,"Subtotal"),r.a.createElement(R,null,D.a.format(n))),r.a.createElement(L,null,r.a.createElement(R,null,"Shipping"),r.a.createElement(R,null,D.a.format(a))),r.a.createElement(L,null,r.a.createElement(R,null,"Total"),r.a.createElement(R,null,D.a.format(n+a))))))};B.propTypes={products:i.a.arrayOf(i.a.shape()),cartItems:i.a.arrayOf(i.a.shape())};var j=B,G=m.c.div.withConfig({displayName:"PaymentOptions__StyledWrapper",componentId:"sc-4w2w0z-0"})(["width:80%;margin:0 auto;margin-bottom:40px;font-family:",";"],function(e){return e.theme.font.family.montserrat}),H=m.c.label.withConfig({displayName:"PaymentOptions__Label",componentId:"sc-4w2w0z-1"})(["position:relative;cursor:pointer;margin-bottom:10px;font-family:",";font-weight:700;text-transform:uppercase;&:before{content:'';border-radius:100%;margin-right:10px;display:inline-block;vertical-align:text-top;width:20px;height:20px;background-color:",";}&:after{content:'';position:absolute;top:calc(100% / 4);left:5px;border-radius:100%;width:10px;height:10px;background-color:",";}"],function(e){return e.theme.font.family.montserrat},function(e){return e.theme.lightGray},function(e){return e.checked?"#333":"transparent"}),K=m.c.form.withConfig({displayName:"PaymentOptions__StyledForm",componentId:"sc-4w2w0z-2"})(["display:flex;flex-direction:column;"]),U=m.c.input.withConfig({displayName:"PaymentOptions__Input",componentId:"sc-4w2w0z-3"})(["opacity:0;position:absolute;"]),J=function(e){var t=e.paymentMethod,n=e.onChange;return r.a.createElement(G,null,r.a.createElement(K,null,r.a.createElement(H,{checked:"bankTransfer"===t},r.a.createElement(U,{type:"radio",name:"paymentMethod",value:"bankTransfer",onChange:function(e){return n(e)},checked:"bankTransfer"===t}),"Direct bank transfer"),r.a.createElement(H,{checked:"cheque"===t},r.a.createElement(U,{type:"radio",name:"paymentMethod",value:"cheque",onChange:function(e){return n(e)},checked:"cheque"===t}),"Cheque payment"),r.a.createElement(H,{checked:"paypal"===t},r.a.createElement(U,{type:"radio",name:"paymentMethod",value:"paypal",onChange:function(e){return n(e)},checked:"paypal"===t}),"Paypal")))};J.propTypes={paymentMethod:i.a.string.isRequired,onChange:i.a.func.isRequired};var V=J;var Y=m.c.div.withConfig({displayName:"CheckoutSection__StyledWrapper",componentId:"sc-197zg5b-0"})(["width:80%;margin:0 auto;margin-bottom:40px;"]),Q=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).onSubmit=function(e,t){n.props.addOrderDetails(e,t)},n.onChange=function(e){var t;n.setState(((t={})[e.target.name]="checkbox"===e.target.type?e.target.checked:e.target.value,t))},n.changePaymentMethod=function(e){var t;n.setState(((t={})[e.target.name]=e.target.value,t),function(){n.props.changePaymentMethod(n.state.paymentMethod)})},n.state={createAccount:!1,shippingAddress:!1,password:"",paymentMethod:"bankTransfer"},n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=this,n=this.props.products.map(function(e){return t.props.allProducts.filter(function(t){return t.node.frontmatter.id===e.productId})}),a=(e=[]).concat.apply(e,n);return r.a.createElement(Y,null,r.a.createElement(j,{products:a,cartItems:this.props.products}),r.a.createElement(V,{paymentMethod:this.state.paymentMethod,onChange:this.changePaymentMethod}),r.a.createElement(k,{type:"Billing address",onSubmit:this.onSubmit,isFetching:this.props.isFetching,shouldShowSubmitButton:!this.state.shippingAddress}),r.a.createElement(T,{onChange:this.onChange,createAccount:this.state.createAccount,shippingAddress:this.state.shippingAddress,password:this.state.password}),this.state.shippingAddress&&r.a.createElement(k,{type:"Shipping address",onSubmit:this.onSubmit}))},a}(a.Component);Q.propTypes={addOrderDetails:i.a.func,changePaymentMethod:i.a.func,isFetching:i.a.bool,products:i.a.arrayOf(i.a.shape()),allProducts:i.a.arrayOf(i.a.shape())};var X=Object(d.b)(function(e){return{products:e.cart.cartItems,isFetching:e.checkout.fetching.fetchingForm}},function(e){return Object(u.b)({checkoutProducts:h,addOrderDetails:f,changePaymentMethod:y},e)})(Q),Z=n(227);n.d(t,"query",function(){return ee});var $=function(e){var t=e.data;return r.a.createElement(l.a,null,r.a.createElement(c.a,{title:"Checkout",keywords:["renome","restaurant"]}),r.a.createElement(s.a,{photo:t.menuHeader,section:"checkout",title:"our products"}),r.a.createElement(X,{allProducts:t.allMarkdownRemark.edges}),r.a.createElement(Z.a,null))},ee="1582508998";$.propTypes={data:i.a.shape().isRequired};t.default=$},215:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(100),i=n(25),l=n(6),c=n.n(l),s=n(207),d=n(212),u=n(224),m=n(221),p=n(222),h=n(12),f=function(e){var t=e.children,n=e.message,a=e.kind,o=e.closeMessage,i=e.isSnackBarActive;return r.a.createElement(s.a,{theme:p.a},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{title:"Home",keywords:["renome","restaurant","food"]}),r.a.createElement(m.a,null),r.a.createElement("main",null,t),i&&r.a.createElement(u.a,{message:n,isActive:i,type:a,closeMessage:o})))};f.propTypes={children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]).isRequired,message:c.a.string,kind:c.a.string,closeMessage:c.a.func,isSnackBarActive:c.a.bool};t.a=Object(o.b)(function(e){return{kind:e.appData.message.kind,isSnackBarActive:e.appData.isSnackBarActive,message:e.appData.message.content}},function(e){return Object(i.b)({closeMessage:h.b},e)})(f)},223:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(207).c.div.withConfig({displayName:"Loader__StyledLoader",componentId:"rb4yfg-0"})(["position:absolute;height:50px;width:inherit;&:before{animation:rotate 0.9s linear infinite both;border:3px solid ",";border-bottom-color:",";border-radius:100%;content:'';height:20px;top:-20%;width:20px;left:43%;position:absolute;will-change:transform;transform-origin:center;}@keyframes rotate{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"],function(e){return e.theme.white},function(e){return e.theme.primary});t.a=function(){return r.a.createElement(o,{role:"alert","aria-live":"assertive","aria-label":"Content is loading"})}},253:function(e,t,n){"use strict";var a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});t.a=a}}]);
//# sourceMappingURL=component---src-pages-checkout-js-de4e9b4151978e88c217.js.map